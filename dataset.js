// dataset.js
import { MongoClient, ObjectId } from "mongodb";
import bcrypt from "bcrypt";

// Condiciones de encriptacion de contraseñas
const passwordDefault = "1234567890"
const salt = bcrypt.genSaltSync(10);

// ======================
// CONFIGURACIÓN MONGO
// ======================
const uri = "mongodb://localhost:27017"; 
const dbName = "brisaacflix";
const client = new MongoClient(uri);

// ======================
// USUARIOS
// ======================
const usuarios = [
  {
    _id: new ObjectId(),
    nombre: "Brian Admin",
    email: "admin@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "admin",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Carlos User",
    email: "carlos@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Ana User",
    email: "ana@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Laura User",
    email: "laura@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Pedro User",
    email: "pedro@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Marta User",
    email: "marta@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Luis User",
    email: "luis@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Sofia User",
    email: "sofia@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Diego User",
    email: "diego@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    nombre: "Lucia User",
    email: "lucia@flix.com",
    contrasena: bcrypt.hashSync(passwordDefault, salt),
    rol: "user",
    createdAt: new Date(),
  },
  ];

  // Helpers
  const getUsuarioId = (email) => {
  const user = usuarios.find((u) => u.email === email);
  if (!user) throw new Error(`Usuario no encontrado: ${email}`);
  return user._id;
  };

  // ======================
  // CONTENIDOS
  // 👉 Aquí debes pegar TODO tu catálogo original (series + películas)
  // ======================
  const contenidos = [
  {
    _id: new ObjectId(),
    tmdbId: 31910,
    tipo: "serie",
    titulo: "Naruto Shippūden",
    sinopsis: "Naruto regresa a Konoha tras dos años de entrenamiento.",
    anio: "2007",
    poster: "https://image.tmdb.org/t/p/w500/zAYRe2bJxpWTVrwwmBc00VFkAf4.jpg",
    generos: [{ id: 16, name: "Animación" }, { id: 10759, name: "Acción y Aventura" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("carlos@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 550,
    tipo: "pelicula",
    titulo: "Fight Club",
    sinopsis: "Un hombre descontento entra en un club secreto de lucha.",
    anio: "1999",
    poster: "https://image.tmdb.org/t/p/w500/bptfVGEQuv6vDTIMVCHjJ9Dz8PX.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 53, name: "Thriller" }],
    estado: "pendiente",
    usuarioId: getUsuarioId("carlos@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1396,
    tipo: "serie",
    titulo: "Breaking Bad",
    sinopsis: "Un profesor de química se convierte en fabricante de drogas.",
    anio: "2008",
    poster: "https://image.tmdb.org/t/p/w500/ggFHVNu6YYI5L9pCfOacjizRGt.jpg",
    generos: [{ id: 80, name: "Crimen" }, { id: 18, name: "Drama" }],
    estado: "rechazado",
    usuarioId: getUsuarioId("carlos@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 19995,
    tipo: "pelicula",
    titulo: "Avatar",
    sinopsis: "Un ex-marine se une a los Na'vi en Pandora.",
    anio: "2009",
    poster: "https://image.tmdb.org/t/p/w500/jRXYjXNq0Cs2TcJjLkki24MLp7u.jpg",
    generos: [{ id: 28, name: "Acción" }, { id: 12, name: "Aventura" }, { id: 878, name: "Sci-Fi" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("carlos@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 66732,
    tipo: "serie",
    titulo: "Stranger Things",
    sinopsis: "Un grupo de niños enfrenta fuerzas sobrenaturales en Hawkins.",
    anio: "2016",
    poster: "https://image.tmdb.org/t/p/w500/x2LSRK2Cm7MZhjluni1msVJ3wDF.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 9648, name: "Misterio" }, { id: 10765, name: "Sci-Fi" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("carlos@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 82856,
    tipo: "serie",
    titulo: "The Mandalorian",
    sinopsis: "Un cazarrecompensas viaja por la galaxia con Grogu.",
    anio: "2019",
    poster: "https://image.tmdb.org/t/p/w500/sWgBv7LV2PRoQgkxwlibdGXKz1S.jpg",
    generos: [{ id: 10765, name: "Sci-Fi" }, { id: 10759, name: "Acción" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("ana@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 157336,
    tipo: "pelicula",
    titulo: "Interstellar",
    sinopsis: "Un grupo viaja a través de un agujero de gusano en busca de un nuevo hogar.",
    anio: "2014",
    poster: "https://image.tmdb.org/t/p/w500/gEU2QniE6E77NI6lCU6MxlNBvIx.jpg",
    generos: [{ id: 12, name: "Aventura" }, { id: 18, name: "Drama" }, { id: 878, name: "Sci-Fi" }],
    estado: "aprobado",
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 24428,
    tipo: "pelicula",
    titulo: "The Avengers",
    sinopsis: "Los héroes más poderosos de la Tierra se unen contra Loki.",
    anio: "2012",
    poster: "https://image.tmdb.org/t/p/w500/RYMX2wcKCBAr24UyPD7xwmjaTn.jpg",
    generos: [{ id: 28, name: "Acción" }, { id: 12, name: "Aventura" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("ana@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 155,
    tipo: "pelicula",
    titulo: "The Dark Knight",
    sinopsis: "Batman enfrenta al Joker en Gotham.",
    anio: "2008",
    poster: "https://image.tmdb.org/t/p/w500/qJ2tW6WMUDux911r6m7haRef0WH.jpg",
    generos: [{ id: 28, name: "Acción" }, { id: 80, name: "Crimen" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("ana@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 424,
    tipo: "pelicula",
    titulo: "Schindler's List",
    sinopsis: "La historia de Oskar Schindler durante el Holocausto.",
    anio: "1993",
    poster: "https://image.tmdb.org/t/p/w500/c8Ass7acuOe4za6DhSattE359gr.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 36, name: "Historia" }],
    estado: "pendiente",
    usuarioId: getUsuarioId("ana@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 27205,
    tipo: "pelicula",
    titulo: "Inception",
    sinopsis: "Un ladrón roba secretos infiltrándose en los sueños.",
    anio: "2010",
    poster: "https://image.tmdb.org/t/p/w500/edv5CZvWj09upOsy2Y6IwDhK8bt.jpg",
    generos: [{ id: 28, name: "Acción" }, { id: 878, name: "Sci-Fi" }],
    estado: "rechazado",
    usuarioId: getUsuarioId("ana@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 671,
    tipo: "pelicula",
    titulo: "Harry Potter y la piedra filosofal",
    sinopsis: "Un joven descubre que es mago y va a Hogwarts.",
    anio: "2001",
    poster: "https://image.tmdb.org/t/p/w500/wuMc08IPKEatf9rnMNXvIDxqP4W.jpg",
    generos: [{ id: 12, name: "Aventura" }, { id: 14, name: "Fantasía" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("ana@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 18165,
    tipo: "serie",
    titulo: "The Walking Dead",
    sinopsis: "Un grupo de sobrevivientes lucha contra zombis.",
    anio: "2010",
    poster: "https://image.tmdb.org/t/p/w500/reKs8y4mPwPkZG99ZpbKRhBPKsX.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 27, name: "Terror" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("laura@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 8587,
    tipo: "pelicula",
    titulo: "The Lion King",
    sinopsis: "Un león joven huye tras la muerte de su padre.",
    anio: "1994",
    poster: "https://image.tmdb.org/t/p/w500/sKCr78MXSLixwmZ8DyJLrpMsd15.jpg",
    generos: [{ id: 16, name: "Animación" }, { id: 10751, name: "Familiar" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("laura@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1399,
    tipo: "serie",
    titulo: "Game of Thrones",
    sinopsis: "Familias nobles luchan por el Trono de Hierro.",
    anio: "2011",
    poster: "https://image.tmdb.org/t/p/w500/u3bZgnGQ9T01sWNhyveQz0wH0Hl.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 10765, name: "Sci-Fi & Fantasía" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("laura@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 597,
    tipo: "pelicula",
    titulo: "Titanic",
    sinopsis: "Una historia de amor a bordo del Titanic.",
    anio: "1997",
    poster:
    "https://image.tmdb.org/t/p/w500/9xjZS2rlVxm8SFx8kPC3aIGCOYQ.jpg",
    generos: [{ id: 18, name: "Drama" },{ id: 10749, name: "Romance" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("laura@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 673,
    tipo: "pelicula",
    titulo: "Harry Potter and the Prisoner of Azkaban",
    sinopsis: "Harry descubre más sobre su pasado en Hogwarts.",
    anio: "2004",
    poster:
    "https://image.tmdb.org/t/p/w500/aWxwnYoe8p2d2fcxOqtvAtJ72Rw.jpg",
    generos: [{ id: 12, name: "Aventura" },{ id: 14, name: "Fantasía" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("laura@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 87108,
    tipo: "serie",
    titulo: "Chernobyl",
    sinopsis: "Miniserie sobre el desastre nuclear de 1986.",
    anio: "2019",
    poster:
    "https://image.tmdb.org/t/p/w500/hlLXt2tOPT6RRnjiUmoxyG1LTFi.jpg",
    generos: [{ id: 18, name: "Drama" },{ id: 36, name: "Historia" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("laura@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 603692,
    tipo: "pelicula",
    titulo: "John Wick: Chapter 4",
    sinopsis: "John Wick descubre un camino para derrotar a la Alta Mesa.",
    anio: "2023",
    poster:
    "https://image.tmdb.org/t/p/w500/vZloFAK7NmvMGKE7VkF5UHaz0I.jpg",
    generos: [{ id: 28, name: "Acción" },{ id: 53, name: "Thriller" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("pedro@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 157,
    tipo: "pelicula",
    titulo: "Kill Bill: Volumen 1",
    sinopsis:
    "La Novia busca venganza contra su antiguo equipo de asesinos.",
    anio: "2003",
    poster:
    "https://image.tmdb.org/t/p/w500/v7TaX8kXMXs5yFFGR41guUDNcnB.jpg",
    generos: [{ id: 28, name: "Acción" },{ id: 80, name: "Crimen" }],
    estado: "pendiente",
    usuarioId: getUsuarioId("pedro@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 667,
    tipo: "pelicula",
    titulo: "2001: A Space Odyssey",
    sinopsis: "Un viaje épico de exploración espacial.",
    anio: "1968",
    poster:
    "https://image.tmdb.org/t/p/w500/zmmYdPa8Lxx999Af9vnVP4XQ1V6.jpg",
    generos: [{ id: 878, name: "Sci-Fi" },{ id: 12, name: "Aventura" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("pedro@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 335983,
    tipo: "pelicula",
    titulo: "Venom",
    sinopsis:
    "Un periodista obtiene poderes de un simbionte alienígena.",
    anio: "2018",
    poster:
    "https://image.tmdb.org/t/p/w500/2uNW4WbgBXL25BAbXGLnLqX71Sw.jpg",
    generos: [{ id: 28, name: "Acción" },{ id: 878, name: "Sci-Fi" }],
    estado: "rechazado",
    usuarioId: getUsuarioId("pedro@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 278,
    tipo: "pelicula",
    titulo: "The Shawshank Redemption",
    sinopsis: "Un banquero es enviado a prisión y busca esperanza.",
    anio: "1994",
    poster:
    "https://image.tmdb.org/t/p/w500/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg",
    generos: [{ id: 18, name: "Drama" },{ id: 80, name: "Crimen" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("pedro@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 603, // The Matrix
    tipo: "pelicula",
    titulo: "The Matrix",
    sinopsis: "Un hacker descubre la verdad sobre la realidad simulada.",
    anio: "1999",
    poster: "https://image.tmdb.org/t/p/w500/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg",
    generos: [{ id: 28, name: "Acción" }, { id: 878, name: "Sci-Fi" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("marta@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 680, // Pulp Fiction
    tipo: "pelicula",
    titulo: "Pulp Fiction",
    sinopsis: "Historias entrelazadas de crimen y redención en Los Ángeles.",
    anio: "1994",
    poster: "https://image.tmdb.org/t/p/w500/dM2w364MScsjFf8pfMbaWUcWrR.jpg",
    generos: [{ id: 80, name: "Crimen" }, { id: 53, name: "Thriller" }],
    estado: "pendiente",
    usuarioId: getUsuarioId("marta@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 315162, // Puss in Boots: The Last Wish
    tipo: "pelicula",
    titulo: "Puss in Boots: The Last Wish",
    sinopsis: "El Gato con Botas busca la mítica Estrella de los Deseos.",
    anio: "2022",
    poster: "https://image.tmdb.org/t/p/w500/kuf6dutpsT0vSVehic3EZIqkOBt.jpg",
    generos: [{ id: 16, name: "Animación" }, { id: 12, name: "Aventura" }, { id: 35, name: "Comedia" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("marta@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1402, // The Walking Dead: spin-off idea
    tipo: "serie",
    titulo: "The Big Bang Theory",
    sinopsis: "Un grupo de amigos nerds navega por la vida y el amor.",
    anio: "2007",
    poster: "https://image.tmdb.org/t/p/w500/ooBGRQBdbGzBxAVfExiO8r7kloA.jpg",
    generos: [{ id: 35, name: "Comedia" }],
    estado: "rechazado",
    usuarioId: getUsuarioId("marta@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1412, // Arrow
    tipo: "serie",
    titulo: "Arrow",
    sinopsis: "Oliver Queen regresa a Starling City convertido en un vigilante encapuchado.",
    anio: "2012",
    poster: "https://image.tmdb.org/t/p/w500/gKG5QGz5Ngf8fgWpBsWtlg5L2SF.jpg",
    generos: [{ id: 80, name: "Crimen" }, { id: 18, name: "Drama" }, { id: 10759, name: "Acción" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("marta@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1668, // Friends
    tipo: "serie",
    titulo: "Friends",
    sinopsis: "Seis amigos viven aventuras divertidas en Nueva York.",
    anio: "1994",
    poster: "https://image.tmdb.org/t/p/w500/f496cm9enuEsZkSPzCwnTESEK5s.jpg",
    generos: [{ id: 35, name: "Comedia" }, { id: 18, name: "Drama" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("luis@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 60625, // Rick and Morty
    tipo: "serie",
    titulo: "Rick and Morty",
    sinopsis: "Un científico loco arrastra a su nieto a aventuras interdimensionales.",
    anio: "2013",
    poster: "https://image.tmdb.org/t/p/w500/8kOWDBK6XlPUzckuHDo3wwVRFwt.jpg",
    generos: [{ id: 16, name: "Animación" }, { id: 35, name: "Comedia" }, { id: 878, name: "Sci-Fi" }],
    estado: "pendiente",
    usuarioId: getUsuarioId("luis@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1434, // Family Guy
    tipo: "serie",
    titulo: "Family Guy",
    sinopsis: "La familia Griffin vive situaciones absurdas y cómicas en Quahog.",
    anio: "1999",
    poster: "https://image.tmdb.org/t/p/w500/eWWCRjBfLyePh2tfZdvNcIvKSJe.jpg",
    generos: [{ id: 16, name: "Animación" }, { id: 35, name: "Comedia" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("luis@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 4607, // Lost
    tipo: "serie",
    titulo: "Lost",
    sinopsis: "Sobrevivientes de un accidente aéreo quedan atrapados en una isla misteriosa.",
    anio: "2004",
    poster: "https://image.tmdb.org/t/p/w500/ogQhgFvt1N3lOY8IpnZG7nCFAuf.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 9648, name: "Misterio" }, { id: 10765, name: "Sci-Fi" }],
    estado: "rechazado",
    usuarioId: getUsuarioId("sofia@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1403, // Vikings
    tipo: "serie",
    titulo: "Vikings",
    sinopsis: "La historia del legendario Ragnar Lothbrok y sus incursiones vikingas.",
    anio: "2013",
    poster: "https://image.tmdb.org/t/p/w500/bQLrHIRNEkE3PdIWQrZHynQZazu.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 10759, name: "Acción" }, { id: 10765, name: "Sci-Fi & Fantasía" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("sofia@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 66732, // The Witcher
    tipo: "serie",
    titulo: "The Witcher",
    sinopsis: "Geralt de Rivia lucha contra monstruos y su propio destino.",
    anio: "2019",
    poster: "https://image.tmdb.org/t/p/w500/zrPpUlehQaBf8YX2NrVrKK8IEpf.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 10765, name: "Sci-Fi & Fantasía" }, { id: 10759, name: "Acción" }],
    estado: "pendiente",
    usuarioId: getUsuarioId("sofia@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 2316, // The Office
    tipo: "serie",
    titulo: "The Office",
    sinopsis: "Un falso documental sobre empleados de una oficina de papel.",
    anio: "2005",
    poster: "https://image.tmdb.org/t/p/w500/qWnJzyZhyy74gjpSjIXWmuk0ifX.jpg",
    generos: [{ id: 35, name: "Comedia" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("diego@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1408, // House M.D.
    tipo: "serie",
    titulo: "House",
    sinopsis: "Un médico brillante y sarcástico resuelve casos médicos complejos.",
    anio: "2004",
    poster: "https://image.tmdb.org/t/p/w500/lkvhReTBZ2Ksl0Dl5Oplsf6UYkF.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 9648, name: "Misterio" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("lucia@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 1622, // Supernatural
    tipo: "serie",
    titulo: "Supernatural",
    sinopsis: "Dos hermanos cazan demonios, fantasmas y otras criaturas.",
    anio: "2005",
    poster: "https://image.tmdb.org/t/p/w500/KoYWXbnYuS3b0GyQPkbuexlVK9.jpg",
    generos: [{ id: 18, name: "Drama" }, { id: 9648, name: "Misterio" }, { id: 10765, name: "Sci-Fi & Fantasía" }],
    estado: "aprobado",
    usuarioId: getUsuarioId("lucia@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 98, // Gladiator
    tipo: "pelicula",
    titulo: "Gladiator",
    sinopsis: "En el año 180, el Imperio Romano domina todo el mundo conocido. Tras una gran victoria sobre los bárbaros del norte, el anciano emperador Marco Aurelio decide transferir el poder a Máximo, bravo general de sus ejércitos y hombre de inquebrantable lealtad al imperio. Pero su hijo Cómodo, que aspiraba al trono, no lo acepta y trata de asesinar a Máximo.",
    anio: "2000",
    poster: "https://image.tmdb.org/t/p/w500/ty8TGRuvJLPUmAR1H1nRIsgwvim.jpg",
    generos: [{"id": 28,"name": "Acción"},{"id": 18,"name": "Drama"},{"id": 12,"name": "Aventura"}],
    estado: "aprobado",
    usuarioId: getUsuarioId("lucia@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 475557, // Joker
    tipo: "pelicula",
    titulo: "Joker",
    sinopsis: "Arthur Fleck es un hombre ignorado por la sociedad, cuya motivación en la vida es hacer reír. Pero una serie de trágicos acontecimientos le llevarán a ver el mundo de otra forma. Película basada en Joker, el popular personaje de DC Comics y archivillano de Batman, pero que en este film toma un cariz más realista y oscuro.",
    anio: "2019",
    poster: "https://image.tmdb.org/t/p/w600_and_h900_bestv2/v0eQLbzT6sWelfApuYsEkYpzufl.jpg",
    generos: [{"id": 80,"name": "Crimen"},{"id": 53,"name": "Thriller"},{"id": 18,"name": "Drama"}],
    estado: "aprobado",
    usuarioId: getUsuarioId("lucia@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 65494, // The Crown
    tipo: "serie",
    titulo: "The Crown",
    sinopsis: "Drama sobre las rivalidades políticas y los romances acaecidos durante el reinado de Isabel II, así como de los eventos que moldearían la segunda mitad del siglo XX.",
    anio: "2016",
    poster: "https://image.tmdb.org/t/p/w600_and_h900_bestv2/1ZMVKJoWK5KfxaQA8BwpfOEYKKy.jpg",
    generos: [{"id": 18,"name": "Drama"}],
    estado: "aprobado",
    usuarioId: getUsuarioId("lucia@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 42009, //Black Mirror
    tipo: "serie",
    titulo: "Black Mirror",
    sinopsis: "Las historias más retorcidas pueblan esta alucinante serie antológica que muestra los peores rasgos de la humanidad, sus mayores innovaciones y mucho más.",
    anio: "2011",
    poster: "https://image.tmdb.org/t/p/w600_and_h900_bestv2/6nDRo824oyBwg1prOZHc8UtonVB.jpg",
    generos: [{"id": 10765,"name": "Sci-Fi & Fantasy"},{"id": 18,"name": "Drama"},{"id": 9648,"name": "Misterio"}],
    estado: "aprobado",
    usuarioId: getUsuarioId("diego@flix.com"),
    createdAt: new Date(),
  },
  {
    _id: new ObjectId(),
    tmdbId: 76479, //The Boys
    tipo: "serie",
    titulo: "The Boys",
    sinopsis: "La serie tiene lugar en un mundo en el que los superhéroes representan el lado oscuro de la celebridad y la fama. Un grupo de vigilantes que se hacen llamar 'The Boys' decide hacer todo lo posible por frenar a los superhéroes que están perjudicando a la sociedad, independientemente de los riesgos que ello conlleva.",
    anio: "2019",
    poster: "https://image.tmdb.org/t/p/w600_and_h900_bestv2/5kgY14oisiHcJ4zq0Xgq1e97PHm.jpg",
    generos: [{"id": 10765,"name": "Sci-Fi & Fantasy"},{"id": 10759,"name": "Action & Adventure"}],
    estado: "aprobado",
    usuarioId: getUsuarioId("diego@flix.com"),
    createdAt: new Date(),
  }
];

const getContenidoId = (titulo) => {
  const cont = contenidos.find((c) => c.titulo === titulo);
  if (!cont) throw new Error(`Contenido no encontrado: ${titulo}`);
  return cont._id;
};

// ======================
// RESEÑAS
// 👉 Aquí van todas tus reseñas originales migradas
// ======================
const resenias = [
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Naruto Shippūden"),
    titulo: "Naruto aburrido",
    comentario: "Demasiados capítulos de relleno que rompen el ritmo, aunque las peleas clave siguen siendo espectaculares.",
    calificacion: 2,
    usuarioId: getUsuarioId("lucia@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com"), getUsuarioId("laura@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Naruto Shippūden"),
    titulo: "Naruto épico",
    comentario: "La trama de Pain y la historia de Itachi son de lo mejor en el anime, pura emoción.",
    calificacion: 4,
    usuarioId: getUsuarioId("carlos@flix.com"),
    likesUsuarios: [getUsuarioId("sofia@flix.com"), getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [getUsuarioId("marta@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Avatar"),
    titulo: "Visualmente hermosa",
    comentario: "Un espectáculo visual impresionante, aunque la historia es bastante predecible.",
    calificacion: 4,
    usuarioId: getUsuarioId("sofia@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("marta@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Stranger Things"),
    titulo: "Muy nostálgica",
    comentario: "La ambientación ochentera es lo mejor, engancha rápido y los personajes son entrañables.",
    calificacion: 5,
    usuarioId: getUsuarioId("ana@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com"), getUsuarioId("lucia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Stranger Things"),
    titulo: "Pierde fuerza",
    comentario: "La primera temporada es genial, pero después siento que reciclan muchas ideas.",
    calificacion: 3,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("marta@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Mandalorian"),
    titulo: "Grogu adorable",
    comentario: "Se siente como el Star Wars clásico pero con un aire fresco, Grogu se roba el show.",
    calificacion: 5,
    usuarioId: getUsuarioId("lucia@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Interstellar"),
    titulo: "Emocionante y profunda",
    comentario: "Una experiencia visual y emocional que te hace reflexionar sobre el tiempo y la familia.",
    calificacion: 5,
    usuarioId: getUsuarioId("carlos@flix.com"),
    likesUsuarios: [getUsuarioId("ana@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Interstellar"),
    titulo: "Un poco lenta",
    comentario: "La propuesta es interesante, pero a ratos se me hizo demasiado lenta.",
    calificacion: 3,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("laura@flix.com")],
    dislikesUsuarios: [getUsuarioId("marta@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Avengers"),
    titulo: "Épico crossover",
    comentario: "Un antes y un después en el cine de superhéroes, la batalla de Nueva York es inolvidable.",
    calificacion: 5,
    usuarioId: getUsuarioId("marta@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("sofia@flix.com"), getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Avengers"),
    titulo: "Demasiados personajes",
    comentario: "A veces es difícil seguir la historia con tantos superhéroes al mismo tiempo.",
    calificacion: 4,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com")],
    dislikesUsuarios: [getUsuarioId("lucia@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Dark Knight"),
    titulo: "El mejor Joker",
    comentario: "La actuación de Heath Ledger es legendaria, elevó al personaje a otro nivel.",
    calificacion: 5,
    usuarioId: getUsuarioId("sofia@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com"), getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Inception"),
    titulo: "Un rompecabezas",
    comentario: "Cada vez que la veo entiendo algo nuevo, increíble manejo de la narrativa.",
    calificacion: 5,
    usuarioId: getUsuarioId("laura@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Breaking Bad"),
    titulo: "Obra maestra",
    comentario: "La transformación de Walter White es una de las mejores escritas en la televisión.",
    calificacion: 5,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("carlos@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Harry Potter y la piedra filosofal"),
    titulo: "Mágico inicio",
    comentario: "El comienzo perfecto de la saga, transmite la ilusión de descubrir un mundo nuevo.",
    calificacion: 5,
    usuarioId: getUsuarioId("ana@flix.com"),
    likesUsuarios: [getUsuarioId("marta@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Walking Dead"),
    titulo: "Intensa pero irregular",
    comentario: "Al principio es atrapante, aunque pierde calidad en temporadas intermedias.",
    calificacion: 4,
    usuarioId: getUsuarioId("diego@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Titanic"),
    titulo: "Clásico romántico",
    comentario: "Una historia de amor épica con un final trágico que sigue emocionando.",
    calificacion: 5,
    usuarioId: getUsuarioId("marta@flix.com"),
    likesUsuarios: [getUsuarioId("laura@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Supernatural"),
    titulo: "Conmovedora",
    comentario: "Dura de ver pero necesaria, una de las películas más importantes del cine.",
    calificacion: 5,
    usuarioId: getUsuarioId("lucia@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com"), getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Supernatural"),
    titulo: "Muy larga",
    comentario: "La historia es poderosa, pero su duración puede resultar agotadora.",
    calificacion: 4,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("marta@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("John Wick: Chapter 4"),
    titulo: "Acción impecable",
    comentario: "Las coreografías de combate son brutales, Keanu Reeves está increíble.",
    calificacion: 5,
    usuarioId: getUsuarioId("carlos@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("marta@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("John Wick: Chapter 4"),
    titulo: "Repetitiva",
    comentario: "Al cabo de un rato las peleas me parecieron todas iguales.",
    calificacion: 3,
    usuarioId: getUsuarioId("laura@flix.com"),
    likesUsuarios: [getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Kill Bill: Volumen 1"),
    titulo: "Tarantino puro",
    comentario: "Estilo único, violencia estilizada y una historia de venganza muy potente.",
    calificacion: 5,
    usuarioId: getUsuarioId("sofia@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Kill Bill: Volumen 1"),
    titulo: "Demasiada sangre",
    comentario: "El exceso de violencia me sacó un poco de la experiencia.",
    calificacion: 3,
    usuarioId: getUsuarioId("marta@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Matrix"),
    titulo: "Revolucionaria",
    comentario: "Cambió la ciencia ficción para siempre, conceptos filosóficos y acción innovadora.",
    calificacion: 5,
    usuarioId: getUsuarioId("ana@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Matrix"),
    titulo: "Confusa",
    comentario: "La idea es interesante, pero a veces se enreda demasiado con sus explicaciones.",
    calificacion: 3,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com")],
    dislikesUsuarios: [getUsuarioId("marta@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Pulp Fiction"),
    titulo: "Diálogos brillantes",
    comentario: "Un clásico moderno, Tarantino en su máxima expresión.",
    calificacion: 5,
    usuarioId: getUsuarioId("carlos@flix.com"),
    likesUsuarios: [getUsuarioId("ana@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Chernobyl"),
    titulo: "Impactante",
    comentario: "Una miniserie brutalmente realista que muestra el desastre desde todos los ángulos.",
    calificacion: 5,
    usuarioId: getUsuarioId("lucia@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Chernobyl"),
    titulo: "Muy dura",
    comentario: "Difícil de ver por lo crudo de la historia, pero extremadamente bien hecha.",
    calificacion: 4,
    usuarioId: getUsuarioId("marta@flix.com"),
    likesUsuarios: [getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Gladiator"),
    titulo: "Épica",
    comentario: "Russell Crowe está espectacular, una historia que emociona de principio a fin.",
    calificacion: 5,
    usuarioId: getUsuarioId("carlos@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Gladiator"),
    titulo: "Un poco exagerada",
    comentario: "Es entretenida, pero algunas escenas se sienten demasiado dramáticas.",
    calificacion: 3,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("laura@flix.com")],
    dislikesUsuarios: [getUsuarioId("marta@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Joker"),
    titulo: "Oscura y brillante",
    comentario: "Joaquin Phoenix da una actuación inolvidable, intensa y perturbadora.",
    calificacion: 5,
    usuarioId: getUsuarioId("sofia@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Joker"),
    titulo: "Demasiado incómoda",
    comentario: "Es una gran película, pero me generó tanta incomodidad que no pude disfrutarla del todo.",
    calificacion: 4,
    usuarioId: getUsuarioId("laura@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Friends"),
    titulo: "Siempre divertida",
    comentario: "No importa cuántas veces la vea, siempre me saca una sonrisa.",
    calificacion: 5,
    usuarioId: getUsuarioId("ana@flix.com"),
    likesUsuarios: [getUsuarioId("marta@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Friends"),
    titulo: "No envejeció bien",
    comentario: "Algunos chistes ya no funcionan y ciertas tramas se sienten pasadas de moda.",
    calificacion: 3,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com")],
    dislikesUsuarios: [getUsuarioId("carlos@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Crown"),
    titulo: "Elegante y atrapante",
    comentario: "Gran producción con actuaciones impecables, una visión fascinante de la realeza.",
    calificacion: 5,
    usuarioId: getUsuarioId("marta@flix.com"),
    likesUsuarios: [getUsuarioId("laura@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Crown"),
    titulo: "Muy lenta",
    comentario: "Visualmente es preciosa, pero en algunos episodios no pasa casi nada.",
    calificacion: 3,
    usuarioId: getUsuarioId("lucia@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Black Mirror"),
    titulo: "Perturbadora",
    comentario: "Cada capítulo te deja pensando sobre el futuro de la tecnología y la sociedad.",
    calificacion: 5,
    usuarioId: getUsuarioId("lucia@flix.com"),
    likesUsuarios: [getUsuarioId("ana@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Black Mirror"),
    titulo: "Irregular",
    comentario: "Algunos episodios son geniales, otros bastante flojos.",
    calificacion: 3,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("marta@flix.com")],
    dislikesUsuarios: [getUsuarioId("carlos@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Breaking Bad"),
    titulo: "Obra maestra",
    comentario: "Una de las mejores series de todos los tiempos, desarrollo de personajes increíble.",
    calificacion: 5,
    usuarioId: getUsuarioId("carlos@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("Breaking Bad"),
    titulo: "Demasiado lenta al inicio",
    comentario: "Le cuesta arrancar, pero cuando lo hace es espectacular.",
    calificacion: 4,
    usuarioId: getUsuarioId("laura@flix.com"),
    likesUsuarios: [getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [getUsuarioId("marta@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Mandalorian"),
    titulo: "Gran aporte a Star Wars",
    comentario: "Historia emocionante y personajes entrañables como Grogu.",
    calificacion: 5,
    usuarioId: getUsuarioId("sofia@flix.com"),
    likesUsuarios: [getUsuarioId("lucia@flix.com"), getUsuarioId("carlos@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Mandalorian"),
    titulo: "Algo repetitiva",
    comentario: "Visualmente es genial, pero muchos capítulos siguen la misma fórmula.",
    calificacion: 3,
    usuarioId: getUsuarioId("pedro@flix.com"),
    likesUsuarios: [getUsuarioId("ana@flix.com")],
    dislikesUsuarios: [getUsuarioId("marta@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Boys"),
    titulo: "Superhéroes distintos",
    comentario: "Una serie fresca y violenta que da un giro total al género.",
    calificacion: 5,
    usuarioId: getUsuarioId("marta@flix.com"),
    likesUsuarios: [getUsuarioId("laura@flix.com"), getUsuarioId("sofia@flix.com")],
    dislikesUsuarios: [],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    _id: new ObjectId(),
    contenidoId: getContenidoId("The Boys"),
    titulo: "Muy gore",
    comentario: "Tiene buenas ideas, pero el exceso de violencia explícita me saturó un poco.",
    calificacion: 3,
    usuarioId: getUsuarioId("lucia@flix.com"),
    likesUsuarios: [getUsuarioId("carlos@flix.com")],
    dislikesUsuarios: [getUsuarioId("pedro@flix.com")],
    createdAt: new Date(),
    updatedAt: new Date(),
  },
];

// ======================
// EJECUCIÓN
// ======================
async function run() {
  try {
    await client.connect();
    const db = client.db(dbName);

    await db.collection("usuarios").deleteMany({});
    await db.collection("contenidos").deleteMany({});
    await db.collection("resenias").deleteMany({});

    await db.collection("usuarios").insertMany(usuarios);
    await db.collection("contenidos").insertMany(contenidos);
    await db.collection("resenias").insertMany(resenias);

    console.log("✅ Datos insertados correctamente en MongoDB");
  } catch (error) {
    console.error("❌ Error al insertar datos:", error);
  } finally {
    await client.close();
  }
}

run();
